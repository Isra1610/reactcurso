(this.webpackJsonpreactcurso=this.webpackJsonpreactcurso||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(2),c=o(5),a=o.n(c),r=(o(15),o(1)),s=function(e){return Object(r.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmpty(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(e.searchText),e.searchedTodos.map(e.children),Object(r.jsx)("ul",{children:e.children})]})},l=o(10),d=o(9),i=(o(17),function(e){return console.log(e),Object(r.jsxs)("li",{className:"TodoItem",children:[Object(r.jsx)("span",{className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete,children:Object(r.jsx)(d.a,{})}),Object(r.jsx)("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--complete"),children:e.text}),Object(r.jsx)("span",{className:"Icon Icon-delete",onClick:e.onDelete,children:Object(r.jsx)(l.a,{})})]})}),u=(o(18),function(e){var t=e.openModal,o=e.setOpenModal;return Object(r.jsx)("button",{className:"CreateTodoButton",onClick:function(){o(!t)},children:"+"})}),j=o(7),O=o(3);var b=function(e,t){var o=Object(n.useState)(!0),c=Object(O.a)(o,2),a=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(O.a)(s,2),d=l[0],i=l[1],u=Object(n.useState)(t),j=Object(O.a)(u,2),b=j[0],m=j[1];return Object(n.useEffect)((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),m(o),r(!1)}catch(d){i(d)}}),3e3)}),[]),{item:b,saveItem:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),m(t)}catch(d){i(d)}},loading:a,error:d}},m=function(){var e=b("TODOS_V2",[]),t=e.item,o=e.saveItem,c=e.loading,a=e.error,r=Object(n.useState)(""),s=Object(O.a)(r,2),l=s[0],d=s[1],i=Object(n.useState)(!1),u=Object(O.a)(i,2),m=u[0],h=u[1];console.log(t);var f=t.filter((function(e){return!0===e.completed})).length,p=t.length,x=[];x=l.length>=1?t.filter((function(e){var t=e.text.toLowerCase(),o=l.toLowerCase();return t.includes(o)})):t;return{error:a,loading:c,totalTodos:p,completedTodos:f,searchValue:l,setSearchValue:d,searchedTodos:x,completeTodos:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(j.a)(t);c[n].completed=!0,o(c)},deleteTodos:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(j.a)(t);c.splice(n,1),o(c)},openModal:m,setOpenModal:h,addTodo:function(e){var n=Object(j.a)(t);n.push({completed:!1,text:e}),o(n)}}},h=(o(19),function(e){var t=e.children;return a.a.createPortal(Object(r.jsx)("div",{className:"modalBackground",children:t}),document.getElementById("modal"))}),f=(o(20),function(e){var t=e.addTodo,o=e.setOpenModal,c=Object(n.useState)(""),a=Object(O.a)(c,2),s=a[0],l=a[1];return Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s),l(""),o(!1)},children:[Object(r.jsx)("label",{children:"Add a new TODO"}),Object(r.jsx)("textarea",{placeholder:"to cut onions for lunch...",value:s,onChange:function(e){l(e.target.value)}}),Object(r.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(r.jsx)("button",{onClick:function(){o(!1)},type:"button",className:"TodoForm-button TodoForm-button-cancel",children:"Cancel"}),Object(r.jsx)("button",{type:"submit",className:"TodoForm-button TodoForm-button-add",children:"Add"})]})]})}),p=(o(21),function(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(r.jsxs)("h2",{className:"TodoCounter ".concat(!!n&&"TodoCounter--loading"),children:["You have complete ",o," of ",t," TODOs"]})}),x=(o(22),function(e){var t=e.searchValue,o=e.setSearchValue,n=e.loading;return console.log(t,"asd"),Object(r.jsx)("input",{onChange:function(e){var t=e.target.value;o(t)},className:"TodoSearch",placeholder:"Search a Todo...",value:t,disabled:n})}),T=function(e){var t=e.children,o=e.loading;return Object(r.jsx)("header",{children:n.Children.toArray(t).map((function(e){return Object(n.cloneElement)(e,{loading:o})}))})},g=function(){return Object(r.jsx)("p",{children:"Oopsy, we got a problem..."})},v=function(){return Object(r.jsx)("p",{children:"Create a new TODO"})},S=function(){var e=function(){return Object(r.jsx)("li",{className:"TodoItem-loading",children:Object(r.jsxs)("div",{className:"LoaderBalls",children:[Object(r.jsx)("span",{className:"LoaderBalls__item"}),Object(r.jsx)("span",{className:"LoaderBalls__item"}),Object(r.jsx)("span",{className:"LoaderBalls__item"})]})})};return new Array(4).fill().map((function(t,o){return Object(r.jsx)(e,{},o)}))};o(23);var N=function(){var e=m(),t=e.error,o=e.loading,n=e.searchedTodos,c=e.completeTodos,a=e.deleteTodos,l=e.openModal,d=e.totalTodos,j=e.completedTodos,O=e.searchValue,b=e.setSearchValue,N=e.addTodo,I=e.setOpenModal;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(T,{loading:o,children:[Object(r.jsx)(p,{totalTodos:d,completedTodos:j}),Object(r.jsx)(x,{searchValue:O,setSearchValue:b})]}),Object(r.jsx)(s,{error:t,loading:o,totalTodos:d,searchText:O,searchedTodos:n,onError:function(){return Object(r.jsx)(g,{})},onLoading:function(){return Object(r.jsx)(S,{})},onEmpty:function(){return Object(r.jsx)(v,{})},onEmptySearchResults:function(e){return Object(r.jsxs)("p",{children:["Not Founds for ",e,"..."]})},children:function(e){return Object(r.jsx)(i,{text:e.text,completed:e.completed,onDelete:function(){return a(e.text)},onComplete:function(){return c(e.text)}},e.text)}}),!!l&&Object(r.jsx)(h,{children:Object(r.jsx)("p",{children:Object(r.jsx)(f,{addTodo:N,setOpenModal:I})})}),Object(r.jsx)(u,{openModal:l,setOpenModal:I})]})};o(24);a.a.render(Object(r.jsx)(N,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.51c27b1d.chunk.js.map